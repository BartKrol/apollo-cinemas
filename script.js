const request = require('superagent-bluebird-promise')
const Promise = require('bluebird')
const jsonfile = require('jsonfile')

const ids = [
  85,
  2206,
  2372,
  17354,
  37153,
  37158,
  37632,
  55586,
  58873,
  59147,
  72466,
  77795,
  78727,
  97576,
  132157,
  159454,
  531772,
  556446,
  997860,
  998225,
  1149880,
  1167068,
  1170656,
  1204379,
  1261092,
  1278780,
  1322312,
  1363049,
  1385097,
  1394384,
  1396600,
  1403650,
  1434017,
  1451618,
  1479957,
  1486530,
  1495084,
  1573807,
  1592480,
  1604370,
  1610835,
  1624443,
  1624444,
  1641528,
  1651386,
  1654736,
  1654737,
  1654738,
  1654739,
  1654740,
  1654741,
  1654742,
  1654743,
  1654744,
  1654745,
  1654746,
  1655619,
  1655620,
  1655621,
  1019,
  3063,
  4589,
  5294,
  7624,
  30082,
  53714,
  71580,
  72873,
  74568,
  78110,
  126802,
  357551,
  1070721,
  1372694,
  1480047,
  1697472,
  1697473,
  1697474,
  1703906,
  2178,
  9273,
  17604,
  21629,
  29461,
  29466,
  51389,
  60907,
  72873,
  83029,
  90467,
  209819,
  225411,
  1099770,
  1296930,
  1349338,
  1389916,
  1476892,
  1522166,
  1540241,
  1548738,
  1646444,
  1646447,
  1646448,
  1646449,
  1646450,
  1646452,
  1646454,
  1646456,
  1646457,
  1646458,
  1646459,
  1646460,
  1646461,
  1646462,
  1646463,
  1646464,
  880,
  2888,
  4238,
  7499,
  19487,
  19492,
  31164,
  33527,
  35029,
  83968,
  84217,
  92404,
  132157,
  198150,
  224181,
  234352,
  928572,
  932158,
  1232769,
  1260782,
  1289968,
  1461608,
  1545155,
  1545156,
  1545157,
  1892,
  1925,
  2176,
  2518,
  5377,
  12041,
  19895,
  53240,
  79991,
  121718,
  227454,
  1208967,
  1475960,
  1658928,
  1658929,
  1658930,
  1658931,
  2524,
  3292,
  6885,
  24898,
  26060,
  37153,
  44838,
  59117,
  66055,
  75540,
  82437,
  98522,
  102603,
  217828,
  223692,
  236048,
  1036288,
  1056053,
  1229667,
  1232126,
  1265157,
  1272941,
  1278500,
  1445417,
  1456888,
  1475853,
  1492293,
  1554064,
  227,
  1245,
  1896,
  1981,
  3141,
  3223,
  3872,
  6162,
  7060,
  7624,
  15250,
  16828,
  17604,
  21134,
  22226,
  51878,
  53650,
  60898,
  62105,
  78430,
  81685,
  84247,
  116969,
  139900,
  161932,
  172069,
  232256,
  550843,
  592495,
  1136406,
  1715114,
  535,
  1813,
  1892,
  1893,
  3895,
  8210,
  9560,
  10297,
  12074,
  17052,
  21416,
  31649,
  32202,
  35013,
  40039,
  55411,
  58549,
  78050,
  83002,
  86624,
  97447,
  100650,
  167720,
  171901,
  212689,
  851784,
  1190668,
  1360008,
  1452481,
  1452865,
  1503849,
  1505363,
  1573547,
  1663832,
  1699056,
  1699057,
  1295,
  1372,
  8691,
  11108,
  17305,
  17306,
  17605,
  21028,
  21041,
  62064,
  65779,
  68842,
  74242,
  85505,
  119758,
  140182,
  205179,
  568657,
  592496,
  936415,
  936932,
  939589,
  1006731,
  1051473,
  1095524,
  1225951,
  1366510,
  1397812,
  1502989,
  1516834,
  1590377,
  1641530,
  1686562,
  7,
  10,
  12,
  13,
  14,
  18,
  19,
  3092,
  5293,
  6168,
  7907,
  7929,
  7960,
  8065,
  8066,
  10205,
  14723,
  15232,
  17287,
  17401,
  17605,
  18977,
  19278,
  26510,
  95102,
  1240487,
  1559638,
  1606371,
  1695063,
  1695064,
  1695065,
  7132,
  11669,
  14592,
  17181,
  18997,
  20750,
  59297,
  73457,
  76793,
  78423,
  116278,
  150587,
  170635,
  543505,
  568045,
  591834,
  866906,
  1108907,
  1424279,
  1522360,
  1637724,
  1682512,
  1682513,
  1231,
  1233,
  2283,
  2954,
  9281,
  13028,
  17343,
  20089,
  20220,
  20275,
  27972,
  47533,
  51682,
  52483,
  55636,
  57755,
  58502,
  72129,
  94103,
  96066,
  155077,
  237455,
  530025,
  582892,
  932967,
  1085158,
  1163715,
  1366702,
  1383482,
  1383491,
  1383509,
  1383546,
  1383548,
  1383549,
  1383551,
  1383552,
  1435432,
  1435440,
  1435442,
  1542923,
  1669939,
  1669940,
  1669941,
  1669949,
  1669953,
  204,
  327,
  3417,
  3489,
  6944,
  15852,
  18307,
  21045,
  37153,
  56614,
  94185,
  224181,
  587020,
  928575,
  973667,
  996701,
  1159982,
  1173230,
  1251875,
  1259762,
  1325961,
  1532415,
  1628107,
  1669949,
  13,
  682,
  1852,
  4581,
  4922,
  8063,
  12077,
  15762,
  20619,
  21996,
  25703,
  26532,
  31365,
  35159,
  49767,
  52699,
  52849,
  55638,
  56159,
  61983,
  62298,
  73476,
  78317,
  84213,
  84495,
  86007,
  111466,
  124748,
  145184,
  156962,
  157626,
  213001,
  452205,
  475512,
  500427,
  545087,
  592036,
  912632,
  1386148,
  1512446,
  1580333,
  1662455,
  1662456,
  1100,
  18999,
  24047,
  25002,
  37825,
  37937,
  55596,
  59739,
  60077,
  60881,
  65345,
  76021,
  76512,
  100567,
  136532,
  177403,
  203390,
  224181,
  304845,
  565501,
  1023458,
  1030512,
  1049830,
  1181558,
  1223786,
  1358087,
  1394617,
  1411679,
  1451160,
  1576250,
  1576251,
  515,
  938,
  941,
  1121,
  2518,
  4764,
  7624,
  8399,
  8691,
  11115,
  12132,
  12835,
  13922,
  15218,
  15221,
  16848,
  16851,
  25451,
  25679,
  51329,
  51663,
  51797,
  56617,
  59286,
  72095,
  72440,
  73457,
  78021,
  82639,
  85096,
  91494,
  92615,
  95051,
  202032,
  209578,
  222906,
  543261,
  543530,
  1111204,
  1132153,
  1133011,
  1148455,
  1186515,
  1202683,
  1211540,
  1211966,
  1214673,
  1227575,
  1229414,
  1234991,
  1237281,
  1283880,
  1312266,
  1362815,
  1363394,
  1388891,
  1394341,
  1405259,
  1405269,
  1405309,
  1405311,
  1405317,
  1405441,
  1405444,
  1405453,
  1405537,
  1405538,
  1405540,
  1405552,
  1405553,
  1405554,
  1405566,
  1405567,
  1405570,
  1405571,
  1502373,
  1502374,
  1502375,
  1737,
  5293,
  5723,
  6283,
  6384,
  6972,
  9452,
  9462,
  18354,
  61011,
  68763,
  71586,
  78890,
  88995,
  129101,
  135352,
  187857,
  968977,
  1105706,
  1110069,
  1218218,
  1222298,
  1359352,
  1405915,
  1417533,
  1439560,
  1503859,
  1503860,
  1503861,
  1503862,
  1553053,
  1584908,
  1584909,
  976,
  1620,
  2176,
  56731,
  67247,
  92285,
  132635,
  132639,
  203526,
  206398,
  234990,
  563559,
  934149,
  1102621,
  1200415,
  1206367,
  1272796,
  1317159,
  1401804,
  1411985,
  1478435,
  1669540,
  1673822,
  1673823,
  1673824,
  1673825,
  1673826,
  1673827,
  1673828,
  65,
  112,
  113,
  114,
  1327,
  1331,
  7060,
  9188,
  11275,
  15092,
  19034,
  25136,
  30315,
  34715,
  41782,
  52398,
  60349,
  67123,
  71580,
  72095,
  80112,
  81877,
  95047,
  114019,
  126667,
  127453,
  152566,
  173451,
  205406,
  207558,
  240024,
  534336,
  986734,
  1193832,
  1193833,
  1193834,
  1359823,
  1359824,
  1440652,
  429,
  3292,
  5530,
  6968,
  7624,
  9827,
  12851,
  17288,
  18818,
  25072,
  51389,
  55089,
  72129,
  81364,
  99181,
  102744,
  113505,
  198540,
  929943,
  1001657,
  1034681,
  1056053,
  1253199,
  1264152,
  1327614,
  1366510,
  1381295,
  1433019,
  1452045,
  1452046,
  1547887,
  1547888,
  1623329
]

Promise.map(ids, id => {
    return request(`https://api.themoviedb.org/3/person/${id}?api_key=f81bd9740a1f947cd670b275ccd1596c&language=pl-PL`)
      .then(({ body }) => {
        console.log('Finished id' + id)
        return body
      })
  })
  .reduce((actors, actor) => ([...actors, actor]), [])
  .then(actors => {
    var file = './actors.json'
    jsonfile.writeFile(file, actors, { spaces: 2 }, () => {
      process.exit()
    })
  })
  .catch(err => {
    console.log(err)
    process.exit(1)
  })
